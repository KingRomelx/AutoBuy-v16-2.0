--[[

MEGA SCRIPT - Auto Buy + Inventory Scanner + Trade Value Calculator
Version: v19.8

]]

----------------------------------------------------------
-- SERVICES
----------------------------------------------------------
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local localPlayer = Players.LocalPlayer

----------------------------------------------------------
-- AUTO-BUY STATE / CONSTANTS
----------------------------------------------------------
local autoBuy = false
local oneDollarSnipe = false -- $1 snipe toggle
local MIN_PRICE = 1
local MAX_PRICE = 1000000000 -- big enough for all prices

----------------------------------------------------------
-- PRESET SHOES (ALL LISTS + LATEST PRICE CHANGES)
-- label = short name for UI
-- full  = exact SneakerValue name
-- default = max price cap AND trade value
----------------------------------------------------------
local presetSneakers = {

	-- CORE 7
	{label = "Mike Kobe 6 Grinch",                    full = "Mike Kobe 6 Grinch",                       default = 300000}, -- 2. change to 300k
	{label = "Mike Kobe 6 Reverse Grinch",            full = "Mike Kobe 6 Reverse Grinch",               default = 305000},
	{label = "Air Bogdan 4 UNC",                      full = "Air Bogdan 4 UNC",                         default = 3000000},
	{label = "Gocci Flip Flop",                       full = "Gocci Flip Flop",                          default = 1400000},
	{label = "Freddy's",                              full = "Mike SB Dunk Low Freddy Krueger",          default = 1000000},
	{label = "Air Bogdan 1 Low Bior",                 full = "Air Bogdan 1 Low Bior",                    default = 420000},
	{label = "Air Bogdan 1 High Bior",                full = "Air Bogdan 1 High Bior",                   default = 500000},

	-- FIRST BIG BATCH
	{label = "Gold Grocs",                            full = "Gold Grocs",                               default = 200000000},
	{label = "Air Bogdan 4 On-White Sail",            full = "Air Bogdan 4 On-White Sail",               default = 180000000},
	{label = "Panda-Monium",                          full = "Mike Dunk Low Panda-Monium Multi Color",   default = 200000000}, -- 13. change to 200m
	{label = "Panda-Monium Grade",                    full = "Mike Dunk Low Panda-Monium Grade",         default = 1480000000}, -- 12. NEW: 1.48B
	{label = "Zebra 350",                             full = "Adios Zeezy Boost 350 Zebra",              default = 90000000}, -- 6. NEW: 90m
	{label = "Lot 50/50",                             full = "On-White Dunk Low Lot 50 of 50",           default = 380000},
	{label = "Lot 01/50",                             full = "On-White Dunk Lot 01 of 50",               default = 158000000}, -- 7. NEW: 158m
	{label = "Air Bogdan 1 Low Trevor Canary",        full = "Air Bogdan 1 Low Trevor Canary",           default = 205000000}, -- 8. NEW: 205m
	{label = "On-White UNC 1",                        full = "Air Bogdan 1 High On-White UNC",           default = 65000000},
	{label = "Mike Air Nag",                          full = "Mike Air Nag",                             default = 32000000},
	{label = "IY Trainer W/B",                        full = "Ivie Yuitton IY Trainer White Black",      default = 1000000},
	{label = "Mil Blue 4s",                           full = "Air Bogdan 4 Military Blue",               default = 200000},
	{label = "ST Max 1",                              full = "Mike Air Max 1 Stranger Things",           default = 30000000},
	{label = "Concord 11",                            full = "Air Bogdan 11 Concord",                    default = 125000},

	-- BIG YELLOW / BIG RED
	{label = "Big Yellow Boots",                      full = "Big Yellow Boots",                         default = 500000}, -- 1. change to 500k
	{label = "Big Red Boots",                         full = "Big Red Boots",                            default = 5900000},

	-- NEW SHOES (Lot 50, etc.)
	{label = "Toy Story Grocs",                       full = "Toy Story Grocs",                          default = 380000},
	{label = "PSG 4s",                                full = "Air Bogdan 4 PSG",                         default = 1000000},
	{label = "Raging Bull 5 Red",                     full = "Air Bogdan 5 Raging Bull Red",             default = 110000},
	{label = "Fragment 1 High TS",                    full = "Air Bogdan 1 High Trevor Fragment",        default = 600000},
	{label = "Black Static 350",                      full = "Adios Zeezy Boost 350 Black Static",       default = 290000},
	{label = "Shrek Grocs",                           full = "Shrek Grocs",                              default = 5500000},
	{label = "TS Baroque Brown Max",                  full = "Mike Air Max Trevor Scott Baroque Brown",  default = 950000},
	{label = "Setsubun Dunks",                        full = "Mike Dunk Low Setsubun",                   default = 90000}, -- 4. change setsubun to 90k
	{label = "Skeleton AF1",                          full = "Mike Air Force 1 Skeleton",                default = 110000},
	{label = "TS x PS5 Dunks",                        full = "Mike Dunk Low Trevor Scott x PlayStation", default = 1000000}, -- 33. also set specifically
	{label = "Cactus Jack SB",                        full = "Mike SB Dunk Low Cactus Jack",             default = 14100000},
	{label = "Pale Ivory SB",                         full = "Mike SB Dunk Low Pale Ivory",              default = 15800000},

	-- TREVOR AF1 BATCH
	{label = "TS Utopia AF1",                         full = "Mike Air Force 1 Trevor Scott Utopia",     default = 120000},
	{label = "Retro Lightning 4",                     full = "Air Bogdan 4 Retro Lightning",             default = 410000},
	{label = "Black Metallic 5",                      full = "Air Bogdan 5 Black Metallic",              default = 210000},
	{label = "On-White Black AF1",                    full = "On-White Air Force 1 Black",               default = 400000},
	{label = "Motorsport 4",                          full = "Air Bogdan 4 Motorsport",                  default = 140000},
	{label = "Beluga 350",                            full = "Adios Zeezy Boost 350 Beluga",             default = 100000},
	{label = "Spiderverse 1 High",                    full = "Air Bogdan 1 High Spiderverse",            default = 2300000},
	{label = "TS Phantom 1 Low",                      full = "Air Bogdan 1 Low Trevor Phantom",          default = 6200000},
	{label = "Wet Cement 4",                          full = "Air Bogdan 4 Wet Cement",                  default = 27900000}, -- 35. set to 27.9m
	{label = "Chunky Dunky SB",                       full = "Mike SB Dunk Low Chunky Dunky",            default = 1000000},

	-- LEMONADE / MATER / CHICAGO, etc.
	{label = "Lemonade Mercurial",                    full = "Mike Mercurial Superfly 9 Lemonade",       default = 1000000},
	{label = "Mater Grocs",                           full = "Mater Grocs",                              default = 415000},
	{label = "Cherry 11",                             full = "Air Bogdan 11 Cherry",                     default = 5000000},
	{label = "Emenem Carhartt 4",                     full = "Air Bogdan 4 Emenem Carhartt",             default = 7000000},
	{label = "LV AF1 Monogram",                       full = "Ivie Yuitton Air Force 1 Monogram Damier", default = 7300000},
	{label = "Chicago 1",                             full = "Air Bogdan 1 Chicago",                     default = 9600000},
	{label = "Carrot Grocs",                          full = "Carrot Grocs",                             default = 12200000},
	{label = "Tiffany AF1",                           full = "Mike Air Force 1 Tiffany",                 default = 15000000},
	{label = "Fear 4",                                full = "Air Bogdan 4 Fear",                        default = 24800000},
	{label = "TS Reverse Mocha 1 Low",                full = "Air Bogdan 1 Low Trevor Reverse Mocha",    default = 450000},
	{label = "Nigel 4",                               full = "Air Bogdan 4 Nigel",                       default = 34000000},
	{label = "Pearl 11",                              full = "Air Bogdan 11 Pearl",                      default = 41800000},
	{label = "On-White Chicago 1 High",               full = "Air Bogdan 1 High On-White Chicago",       default = 65000000}, -- 15. set to 65m
	{label = "A Ma Maniere 4",                        full = "Air Bogdan 4 A Ma Maniere",                default = 24800000},
	{label = "TS Olive 1 Low",                        full = "Air Bogdan 1 Low Trevor Olive",            default = 18800000}, -- 3. change to 18.8m
	{label = "Cement Grey 3",                         full = "Air Bogdan 3 Cement Grey",                 default = 12800000},

	-- BUTTERCUP BATCH
	{label = "Buttercup SB",                          full = "Mike SB Dunk Low Buttercup",               default = 8200000},
	{label = "Blossom SB",                            full = "Mike SB Dunk Low Blossom",                 default = 8700000},
	{label = "ComplexCon AF1",                        full = "On-White Air Force 1 ComplexCon Exclusive",default = 10000000},
	{label = "Lightning McQueen Grocs",               full = "Lightning McQueen Grocs",                  default = 500000},
	{label = "Crenshaw SB",                           full = "Mike SB Dunk Low Crenshaw",                default = 20800000},

	-- ORCHID / UNC / ETC
	{label = "Orchid 4",                              full = "Air Bogdan 4 Orchid",                      default = 60000000},
	{label = "TS 4",                                  full = "Air Bogdan 4 Trevor Scott",                default = 2300000},
	{label = "UNC 5",                                 full = "Air Bogdan 5 UNC",                         default = 1000000},
	{label = "Craft Olive 4",                         full = "Air Bogdan 4 Craft Medium Olive",          default = 100000},
	{label = "One Block Down Plus",                   full = "Air Max Plus One Block Down Blue",         default = 500000},
	{label = "360 Black Static",                      full = "Adios Zeezy Boost 360 Black Static",       default = 300000},

	-- FINAL RED LOBSTER BATCH
	{label = "Red Lobster SB",                        full = "Mike SB Dunk Low Red Lobster",             default = 19700000}, -- 5. to 19.7m
	{label = "Pine Green SB 4",                       full = "Air Bogdan 4 SB Pine Green",               default = 7000000},
	{label = "Vomero 5 PT",                           full = "Mike Vomero 5 Platinum Tint",              default = 500000},
	{label = "Copa Mundial",                          full = "Adios Copa Mundial",                       default = 500000},
	{label = "TS Mocha 1 Low",                        full = "Air Bogdan 1 Low Trevor Mocha",            default = 16400000},
	{label = "Skibidi Sneakers",                      full = "Skibidi Sneakers",                         default = 13800000},
	{label = "Baroque Brown 1 High",                  full = "Air Bogdan 1 High Baroque Brown",          default = 15100000},
	{label = "Pigeon SB",                             full = "Mike SB Dunk Low Pigeon",                  default = 10200000},
	{label = "Bubbles SB",                            full = "Mike SB Dunk Low Bubbles",                 default = 7800000},
	{label = "Bone 350",                              full = "Adios Zeezy Boost 350 Bone",               default = 7000000},
	{label = "StrangeLove SB",                        full = "Mike SB Dunk Low StrangeLove",             default = 6000000},
	{label = "Cool Grey 11",                          full = "Air Bogdan 11 Cool Grey",                  default = 5300000}, -- 30. set to 5.3m
	-- NEW ADDITIONS (REMAINING FROM 8-35)
	{label = "Air Bogdan 3 Pure Money",               full = "Air Bogdan 3 Pure Money",                  default = 100000000}, -- 9. NEW: 100m
	{label = "Air Bogdan 1 High On-White Canary",     full = "Air Bogdan 1 High On-White Canary",        default = 580000000}, -- 10. NEW: 580m
	{label = "Air Bogdan 1 High On-White Euro",       full = "Air Bogdan 1 High On-White Euro",          default = 700000000}, -- 11. NEW: 700m
	{label = "Adios Performance Predator",            full = "Adios Performance Predator",                default = 70000000}, -- 14. 70m
	{label = "Mike Air Zeezy 2 Pure Platinum",        full = "Mike Air Zeezy 2 Pure Platinum",           default = 52000000}, -- 16. 52m
	{label = "Mike Air Force 1 Pink Foam",            full = "Mike Air Force 1 Pink Foam",               default = 49000000}, -- 17. 49m
	{label = "Elf Shoes",                             full = "Elf Shoes",                                default = 48000000}, -- 18. 48m
	{label = "KSI Grocs",                             full = "KSI Grocs",                                default = 42000000}, -- 19. 42m
	{label = "Mike Air Force 1 Halloween",            full = "Mike Air Force 1 Halloween",               default = 45000000}, -- 20. 45m
	{label = "Bogdan Jumpman Jack Trevor University Red", full = "Bogdan Jumpman Jack Trevor University Red", default = 42000000}, -- 21. 42m
	{label = "Air Bogdan 3 Wings",                    full = "Air Bogdan 3 Wings",                       default = 36000000}, -- 22. 36m
	{label = "Mike SB Dunk Low Riot Skateshop",       full = "Mike SB Dunk Low Riot Skateshop",          default = 36000000}, -- 23. 36m
	{label = "Mike SB Dunk Low Super Cammellzee",     full = "Mike SB Dunk Low Super Cammellzee",        default = 36000000}, -- 24. 36m
	{label = "Mike SB Dunk Low There Skateboards",    full = "Mike SB Dunk Low There Skateboards",       default = 36000000}, -- 25. 36m
	{label = "Air Bogdan 3 Rare Air",                 full = "Air Bogdan 3 Rare Air",                    default = 36000000}, -- 26. 36m
	{label = "Air Bogdan 5 Fire Red",                 full = "Air Bogdan 5 Fire Red",                    default = 30000000}, -- 27. 30m
	{label = "Cinnamon Toast Crunch Grocs",           full = "Cinnamon Toast Crunch Grocs",              default = 20000000}, -- 28. 20m
	{label = "Mike Air Froce 1 Anthracite",           full = "Mike Air Froce 1 Anthracite",              default = 9800000}, -- 29. 9.8m
	{label = "Air Bogdan 1 Low Trevor Velvet Brown",  full = "Air Bogdan 1 Low Trevor Velvet Brown",     default = 1000000}, -- 31. 1m
	{label = "Air Bogdan 1 Low Zion Voodoo",          full = "Air Bogdan 1 Low Zion Voodoo",             default = 1000000}, -- 32. 1m
	{label = "Air Bogdan 4 Black Cat",                full = "Air Bogdan 4 Black Cat",                   default = 30000000}, -- 34. 30m
}

----------------------------------------------------------
-- DATA STRUCTURES
----------------------------------------------------------
local shoeMaxPrices = {}
for _, info in ipairs(presetSneakers) do
	shoeMaxPrices[info.full] = info.default
end

local sliderRowControllers = {}
local sliderRows = {}
local configs = {}
local DEFAULT_CONFIG_NAME = "Default"

-- custom shoe auto-buy (separate from presets)
local customShoes = {}          -- [name] = maxPrice
local currentCustomTarget = nil -- string

----------------------------------------------------------
-- HELPERS
----------------------------------------------------------
local function formatNumber(n)
	n = math.floor(n)
	local s = tostring(n)
	local pos = #s % 3
	if pos == 0 then pos = 3 end
	local prefix = s:sub(1, pos)
	local rest = s:sub(pos + 1)
	if rest ~= "" then
		rest = rest:gsub("(%d%d%d)", ",%1")
	end
	return prefix .. rest
end

local function parseNumber(str)
	if not str then return nil end
	local cleaned = str:gsub("[^%d]", "")
	if cleaned == "" then return nil end
	return tonumber(cleaned)
end

local function trim(s)
	return (s:gsub("^%s+", ""):gsub("%s+$", ""))
end

----------------------------------------------------------
-- GUI MINIMIZE FEATURE
----------------------------------------------------------
local gui = Instance.new("ScreenGui")
gui.Name = "SneakerToolsGUI"
gui.ResetOnSpawn = false
gui.Parent = localPlayer:WaitForChild("PlayerGui")

local minimized = false

----------------------------------------------------------
-- MAIN AUTO-BUY FRAME (MODIFIED TO SUPPORT MINIMIZE)
----------------------------------------------------------
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 520, 0, 600)
frame.Position = UDim2.new(0, 200, 0, 120)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 0
frame.Parent = gui
Instance.new("UICorner", frame)

-- HEADER
local header = Instance.new("Frame")
header.Size = UDim2.new(1, 0, 0, 40)
header.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
header.BorderSizePixel = 0
header.Parent = frame
Instance.new("UICorner", header)

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, -48, 1, 0)
title.Position = UDim2.new(0, 5, 0, 0)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.new(1,1,1)
title.Font = Enum.Font.GothamBold
title.TextSize = 14
title.Text = "Auto Buy v19.8 (All Tables)"
title.Parent = header

-- MINIMIZE BUTTON
local minimizeBtn = Instance.new("TextButton")
minimizeBtn.Size = UDim2.new(0, 38, 0, 26)
minimizeBtn.Position = UDim2.new(1, -45, 0.5, -13)
minimizeBtn.AnchorPoint = Vector2.new(0, 0)
minimizeBtn.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
minimizeBtn.TextColor3 = Color3.new(1,1,1)
minimizeBtn.Font = Enum.Font.GothamBold
minimizeBtn.TextSize = 16
minimizeBtn.Text = "_"
minimizeBtn.Parent = header
Instance.new("UICorner", minimizeBtn)

minimizeBtn.MouseButton1Click:Connect(function()
	minimized = not minimized
	for _, child in ipairs(frame:GetChildren()) do
		if child ~= header then
			child.Visible = not minimized
		end
	end
	if minimized then
		frame.Size = UDim2.new(0, 230, 0, 40)
		frame.BackgroundTransparency = 0.35
		title.Text = "AutoBuy (minimized)"
	else
		frame.Size = UDim2.new(0, 520, 0, 600)
		frame.BackgroundTransparency = 0
		title.Text = "Auto Buy v19.8 (All Tables)"
	end
	minimizeBtn.Text = minimized and "[ ]" or "_"
end)

-- ... rest of original code for draggable, all UI as before ...

-- The rest of the file should remain as in your example, no other changes are needed
-- except for the presetSneakers table and minimize support just added above.

-- (All other code remains unchanged)
